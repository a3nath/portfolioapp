{% extends "base.html" %}
{% load static %}

{% block title %}
    Portfolio
{% endblock %}

{% block css %}
    <link rel='stylesheet' href="{% static 'portfolioapp/portfolio.css' %}">
{% endblock %}

{% block content %}

<section class='holding-return'>
<!-- for {holding in holdings} -->
<!-- {{holding.closing_price}} - -->
{{return_doll}}
{{return_per}}

</section>

<section class='holdings'>
    <table id='holdings-table' class='table'>
        <thead>
        </thead>
        <tbody>
            {% for holding in holdings %}
                <tr>
                    <div class="holding">
                        <h3>{{holding.ticker}}</h3>
                        <p>{{holding.purchase_price}}</p>
                        <p>{{holding.purchase_quantity}}</p>
                        <!-- <button type="button" class="update-holding btn btn-sm btn-primary bs-modal" data-form-url="{% url 'update_holding' holding.ticker %}">
                            <span class="fa fa-pencil"></span>
                        </button> -->
                        <button><a href="{% url 'update_holding' holding.ticker %}">Add Details</a></button>
                        <!-- <p>{{holding.closing_price}}</p> -->
                    </div>
                    <!-- {% include 'portfolioapp/includes/holding.html' %} -->
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
<script type='text/javascript' src="{% static 'js/jquery-3.6.0.js' %}"></script>
<script type='text/javascript' src="{% static 'js/popper.js' %}"></script>
<script type='text/javascript' src="{% static 'js/bootstrap.js' %}"></script>


<!-- MODAL  -->
<!-- <script type="text/javascript">
    $(function () {
      // Update trigger - formURL is retrieved from the data of the element and ticker passed?
      $(".update-holding").on('show.bs.modal', function(event){
        let button = $(event.relatedTarget)
        let recipent = button.data('form-url')
        let modal = $(this)
        formURL:$(this).data("form-url"),
        modalID: "#modal"
      });
    });
</script> -->

<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script src="{% static 'portfolioapp/js/bootstrap.js' %}"></script>
<script src="{% static 'assets/js/jquery.js' %}"></script>
<script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script> -->
<!-- You can alternatively load the minified version -->
{% endblock %}